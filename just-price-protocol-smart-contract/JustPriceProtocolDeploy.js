/*
 * Deployment script for Just Price Protocol Smart Contract.
 * Copyright Â© 2018 by ABDK Consulting.
 * Author: Mikhail Vladimirov <mikhail.vladimirov@gmail.com>
 */

if (!web3.eth.contract ([{"constant":true,"inputs":[{"name":"_currentTime","type":"uint256"}],"name":"getStage","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_investors","type":"address[]"}],"name":"deliver","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalEligibleVotes","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_fee","type":"uint256"}],"name":"setFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"sellTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newK1","type":"address"}],"name":"vote","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_newK1","type":"address"}],"name":"votesFor","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_investor","type":"address"}],"name":"eligibleVotes","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"buyTokens","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_investors","type":"address[]"}],"name":"refund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_orgonToken","type":"address"},{"name":"_orisSpace","type":"address"},{"name":"_k1","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"investor","type":"address"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Investment","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"investor","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Delivery","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"investor","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Refund","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"k1","type":"address"}],"name":"K1Change","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"investor","type":"address"},{"indexed":true,"name":"newK1","type":"address"},{"indexed":false,"name":"votes","type":"uint256"}],"name":"Vote","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"investor","type":"address"},{"indexed":true,"name":"newK1","type":"address"},{"indexed":false,"name":"votes","type":"uint256"}],"name":"VoteRevocation","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fee","type":"uint256"}],"name":"FeeChange","type":"event"}]).new (
  orgonToken,
  orisSpace,
  k1,
  {from: web3.eth.accounts[0], data: "0x60606040526002805460a060020a60ff0219168155600c805460ff19169055600d55341561002c57600080fd5b604051606080611d4483398101604052808051919060200180519190602001805160008054600160a060020a0319908116600160a060020a039788161782556001805482169688169690961790955560028054909516919095161790925550611ca89182915061009c90396000f30060606040526004361061008a5763ffffffff60e060020a6000350416632e325020811461009f57806340ca11b2146100d9578063523f891c1461012857806369fe0e2d1461014d5780636c11bcd3146101635780636dd7d8ea14610179578063a50cd8e714610198578063bad84416146101b7578063d0febe4c14610095578063e02cec51146101d6575b361561009557600080fd5b61009d610225565b005b34156100aa57600080fd5b6100b56004356102b9565b604051808260058111156100c557fe5b60ff16815260200191505060405180910390f35b34156100e457600080fd5b61009d600460248135818101908301358060208181020160405190810160405280939291908181526020018383602002808284375094965061036895505050505050565b341561013357600080fd5b61013b6105b9565b60405190815260200160405180910390f35b341561015857600080fd5b61009d6004356105bf565b341561016e57600080fd5b61009d600435610689565b341561018457600080fd5b61009d600160a060020a0360043516610909565b34156101a357600080fd5b61013b600160a060020a0360043516610b84565b34156101c257600080fd5b61013b600160a060020a0360043516610b9f565b34156101e157600080fd5b61009d6004602481358181019083013580602081810201604051908101604052809392919081815260200183836020028082843750949650610bba95505050505050565b6000341161023257600080fd5b61023a610d50565b50600160025460a060020a900460ff16600581111561025557fe5b141561026857610263610f16565b6102b7565b600360025460a060020a900460ff16600581111561028257fe5b14806102a55750600460025460a060020a900460ff1660058111156102a357fe5b145b156102b2576102636115eb565b600080fd5b565b60025460009060a060020a900460ff16818160058111156102d657fe5b14156102f757635ad8306083106102ef575060016102f7565b809150610362565b600181600581111561030557fe5b141561033d57635b41540083106102ef57600354690842e88f4f869aa900009010610332575060026102ef565b506005809150610362565b600381600581111561034b57fe5b141561035e57600654831061035e575060045b8091505b50919050565b600080600080610376610d50565b506002805460a060020a900460ff16600581111561039057fe5b14806103b35750600360025460a060020a900460ff1660058111156103b157fe5b145b806103d55750600460025460a060020a900460ff1660058111156103d357fe5b145b15156103e057600080fd5b600093505b8451841015610517578484815181106103fa57fe5b90602001906020020151600160a060020a0381166000908152600760205260408120805482825560018201839055929550935090915081111561050c5760008054600160a060020a03169063a9059cbb90859084906040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b151561049957600080fd5b6102c65a03f115156104aa57600080fd5b5050506040518051905015156104bf57600080fd5b6104cb60055482611a97565b600555600160a060020a0383167fa41a6d0dcc2ddcc48e73640905338672be260cdd8a099612a1564ab7fa820b5d8260405190815260200160405180910390a25b6001909301926103e5565b6002805460a060020a900460ff16600581111561053057fe5b14801561055557506105456004546050611ab3565b6105526005546064611ab3565b10155b156105b2576002805474ff00000000000000000000000000000000000000001916740300000000000000000000000000000000000000001790556301e1338061059c611ae0565b016006556303c267006105ad611ae0565b01600e555b5050505050565b600b5490565b60018110156105cd57600080fd5b6107d08111156105dc57600080fd5b6105e4610d50565b50600360025460a060020a900460ff1660058111156105ff57fe5b1480156106235750600460025460a060020a900460ff16600581111561062157fe5b145b151561062e57600080fd5b600e54610639611ae0565b101561064457600080fd5b600d54811461068657600d8190557f4c10ca068ff7002cf5da78f2f697d1e91f6f0ac27f7344b28e8ef25263f87e5d8160405190815260200160405180910390a15b50565b60008080831161069857600080fd5b608060020a83106106a857600080fd5b6106b0610d50565b50600460025460a060020a900460ff1660058111156106cb57fe5b146106d557600080fd5b600354608060020a90106106e557fe5b60008054600160a060020a0316906318160ddd90604051602001526040518163ffffffff1660e060020a028152600401602060405180830381600087803b151561072e57600080fd5b6102c65a03f1151561073f57600080fd5b5050506040518051925050608060020a821061075757fe5b8183111561076457600080fd5b60035460809061079f9061079a608060020a61079561079082898b820281151561078a57fe5b04611ae4565b611af6565b611ae4565b611ab3565b9060020a900490506000809054906101000a9004600160a060020a0316600160a060020a03166323b872dd33308660006040516020015260405160e060020a63ffffffff8616028152600160a060020a0393841660048201529190921660248201526044810191909152606401602060405180830381600087803b151561082557600080fd5b6102c65a03f1151561083657600080fd5b50505060405180519050151561084b57600080fd5b60008054600160a060020a031690636d1b229d9085906040516020015260405160e060020a63ffffffff84160281526004810191909152602401602060405180830381600087803b151561089e57600080fd5b6102c65a03f115156108af57600080fd5b5050506040518051905015156108c457600080fd5b6108d060035482611ae4565b600355600160a060020a03331681156108fc0282604051600060405180830381858888f19350505050151561090457600080fd5b505050565b600080610914610d50565b50600460025460a060020a900460ff16600581111561092f57fe5b1461093957600080fd5b600c5460ff161561094957600080fd5b600160a060020a03331660009081526008602052604081205492508211156109045750600160a060020a033381166000908152600960205260409020548116908316811461090457600160a060020a03811615610a1c57600160a060020a0381166000908152600a60205260409020546109c39083611ae4565b600160a060020a038083166000818152600a602052604090819020939093559133909116907fe9ee71e27812c6bb9ad3d4502bccb0b383a342285c010858adab4747734ceb739085905190815260200160405180910390a35b600160a060020a033381166000908152600960205260409020805491851673ffffffffffffffffffffffffffffffffffffffff19909216821790551561090457600160a060020a0383166000908152600a6020526040902054610a7f9083611a97565b600160a060020a038085166000818152600a602052604090819020939093559133909116907f66a9138482c99e9baf08860110ef332cc0c23b4a199a53593d8db0fc8f96fbfc9085905190815260200160405180910390a3610ae4600b546033611ab3565b600160a060020a0384166000908152600a6020526040902054610b08906064611ab3565b10610904576002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a038516179055600c805460ff191660011790557f5d84f17cf2676c0c7e218904d80375bc87dec874fd1e38cd33902d473814618383604051600160a060020a03909116815260200160405180910390a1505050565b600160a060020a03166000908152600a602052604090205490565b600160a060020a031660009081526008602052604090205490565b6000806000806000610bca610d50565b50600560025460a060020a900460ff166005811115610be557fe5b14610bef57600080fd5b600094505b8551851015610d4857858581518110610c0957fe5b90602001906020020151600160a060020a03811660009081526007602052604081208054600182018054848455908490559397509095509350909150821115610cc55760008054600160a060020a031690636d1b229d9084906040516020015260405160e060020a63ffffffff84160281526004810191909152602401602060405180830381600087803b1515610c9f57600080fd5b6102c65a03f11515610cb057600080fd5b505050604051805190501515610cc557600080fd5b6000811115610d3d57600160a060020a03841681156108fc0282604051600060405180830381858888f193505050501515610cff57600080fd5b83600160a060020a03167fbb28353e4598c3b9199101a66e0989549b659a59a54d2c27fbb183f1932c8e6d8260405190815260200160405180910390a25b600190940193610bf4565b505050505050565b6000806000610d65610d60611ae0565b6102b9565b9150816005811115610d7357fe5b60025460a060020a900460ff166005811115610d8b57fe5b14610f11576002826005811115610d9e57fe5b1415610edb57610dfa610dec620186a0610dda610dc7690f5a3b9db6898c500000600354611ae4565b610dd5620186a06001611ae4565b611a97565b811515610de357fe5b04600454611a97565b6701267443925afc00611ae4565b600154909150600160a060020a03166395805dad8260405160e060020a63ffffffff84160281526004810191909152602401600060405180830381600087803b1515610e4557600080fd5b6102c65a03f11515610e5657600080fd5b5050506000811115610edb5760008054600160a060020a031690636d1b229d9083906040516020015260405160e060020a63ffffffff84160281526004810191909152602401602060405180830381600087803b1515610eb557600080fd5b6102c65a03f11515610ec657600080fd5b505050604051805190501515610edb57600080fd5b6002805483919074ff0000000000000000000000000000000000000000191660a060020a836005811115610f0b57fe5b02179055505b505090565b60008080808080600160025460a060020a900460ff166005811115610f3757fe5b14610f4157600080fd5b600095503494506000935069021e19e0c9bab24000006003541015610fdb57620c3500610f8386610f7e69021e19e0c9bab2400000600354611ae4565b611b4f565b811515610f8c57fe5b0492506000831115610fdb57610fa583620c3500611ab3565b9150610fb18684611a97565b9550610fbd8583611ae4565b9450610fc98483611a97565b9350610fd760035483611a97565b6003555b69043c33c1937564800000600354101561106557620c832061100d86610f7e69043c33c1937564800000600354611ae4565b81151561101657fe5b04925060008311156110655761102f83620c8320611ab3565b915061103b8684611a97565b95506110478583611ae4565b94506110538483611a97565b935061106160035483611a97565b6003555b69065a4da25d3016c0000060035410156110ef57620cf85061109786610f7e69065a4da25d3016c00000600354611ae4565b8115156110a057fe5b04925060008311156110ef576110b983620cf850611ab3565b91506110c58684611a97565b95506110d18583611ae4565b94506110dd8483611a97565b93506110eb60035483611a97565b6003555b690878678326eac9000000600354101561117957620d6d8061112186610f7e690878678326eac9000000600354611ae4565b81151561112a57fe5b04925060008311156111795761114383620d6d80611ab3565b915061114f8684611a97565b955061115b8583611ae4565b94506111678483611a97565b935061117560035483611a97565b6003555b690a968163f0a57b400000600354101561120357620dbba06111ab86610f7e690a968163f0a57b400000600354611ae4565b8115156111b457fe5b0492506000831115611203576111cd83620dbba0611ab3565b91506111d98684611a97565b95506111e58583611ae4565b94506111f18483611a97565b93506111ff60035483611a97565b6003555b690cb49b44ba602d800000600354101561128d57620e09c061123586610f7e690cb49b44ba602d800000600354611ae4565b81151561123e57fe5b049250600083111561128d5761125783620e09c0611ab3565b91506112638684611a97565b955061126f8583611ae4565b945061127b8483611a97565b935061128960035483611a97565b6003555b690ed2b525841adfc00000600354101561131757620e7ef06112bf86610f7e690ed2b525841adfc00000600354611ae4565b8115156112c857fe5b0492506000831115611317576112e183620e7ef0611ab3565b91506112ed8684611a97565b95506112f98583611ae4565b94506113058483611a97565b935061131360035483611a97565b6003555b690f5a3b9db6898c50000060035410156113a157620ef42061134986610f7e690f5a3b9db6898c500000600354611ae4565b81151561135257fe5b04925060008311156113a15761136b83620ef420611ab3565b91506113778684611a97565b95506113838583611ae4565b945061138f8483611a97565b935061139d60035483611a97565b6003555b60008611156115b15750600160a060020a033316600090815260076020526040902080546113cf9087611a97565b815560018101546113e09085611a97565b60018201556004546113f29087611a97565b60045560008054600160a060020a031690637e1f2bb89088906040516020015260405160e060020a63ffffffff84160281526004810191909152602401602060405180830381600087803b151561144857600080fd5b6102c65a03f1151561145957600080fd5b50505060405180519050151561146e57600080fd5b600160a060020a0333166000908152600860205260409020546114919087611a97565b600160a060020a033316600090815260086020526040902055600b546114b79087611a97565b600b55600160a060020a0333167f8514357b17ccbde354811f827b94585a7ab01b4034aa86a807b7cc2c100b7be8858860405191825260208201526040908101905180910390a2620ef420611518690f5a3b9db6898c500000600354611ae4565b10156115b157600154600160a060020a03166395805dad600060405160e060020a63ffffffff84160281526004810191909152602401600060405180830381600087803b151561156757600080fd5b6102c65a03f1151561157857600080fd5b50506002805474ff0000000000000000000000000000000000000000191674020000000000000000000000000000000000000000179055505b6000851115610d4857600160a060020a03331685156108fc0286604051600060405180830381858888f193505050501515610d4857600080fd5b6000808080600360025460a060020a900460ff16600581111561160a57fe5b148061162d5750600460025460a060020a900460ff16600581111561162b57fe5b145b151561163857600080fd5b608060020a341061164857600080fd5b60008054600160a060020a0316906318160ddd90604051602001526040518163ffffffff1660e060020a028152600401602060405180830381600087803b151561169157600080fd5b6102c65a03f115156116a257600080fd5b5050506040518051945050608060020a84106116ba57fe5b60806116f78561079a6116ed6116e8608060020a6003546080349060020a028115156116e257fe5b04611a97565b611b67565b608060020a611ae4565b9060020a900492506000831115611a915761171460035434611a97565b6003819055608060020a901061172957600080fd5b60008054600160a060020a031690637e1f2bb89085906040516020015260405160e060020a63ffffffff84160281526004810191909152602401602060405180830381600087803b151561177c57600080fd5b6102c65a03f1151561178d57600080fd5b5050506040518051905015156117a257600080fd5b60008054608060020a91600160a060020a03909116906318160ddd90604051602001526040518163ffffffff1660e060020a028152600401602060405180830381600087803b15156117f357600080fd5b6102c65a03f1151561180457600080fd5b5050506040518051905010151561181a57600080fd5b614e2061182984600d54611ab3565b81151561183257fe5b6000549190049250600160a060020a031663a9059cbb336118538686611ae4565b60006040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b151561189f57600080fd5b6102c65a03f115156118b057600080fd5b5050506040518051905015156118c557600080fd5b600082111561195d5760008054600254600160a060020a039182169263a9059cbb929091169085906040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b151561193757600080fd5b6102c65a03f1151561194857600080fd5b50505060405180519050151561195d57600080fd5b600360025460a060020a900460ff16600581111561197757fe5b1415611a915750600080548391600160a060020a03909116906318160ddd90604051602001526040518163ffffffff1660e060020a028152600401602060405180830381600087803b15156119cb57600080fd5b6102c65a03f115156119dc57600080fd5b50505060405180519450506714d1120d7b1600008410611a44576002805474ff0000000000000000000000000000000000000000191674040000000000000000000000000000000000000000179055611a4181610795866714d1120d7b160000611ae4565b90505b600160a060020a033316600090815260086020526040902054611a679082611a97565b600160a060020a033316600090815260086020526040902055600b54611a8d9082611a97565b600b555b50505050565b6000600019829003831115611aa857fe5b508181015b92915050565b6000811515611ac457506000611aad565b81600019811515611ad157fe5b04831115611adb57fe5b500290565b4290565b600081831015611af057fe5b50900390565b6000808080608060020a851115611b0c57600080fd5b608060020a851415611b2057849350611b47565b5050608060020a838002819004808002829004808002839004808302939093049450909250905b505050919050565b6000818310611b5e5781611b60565b825b9392505050565b600080808080808080805b608060020a8a1115611b91576104009099049860019790970196611b72565b608060020a8a1480611ba1575089155b15611bae57899850611c67565b608060020a9850888a0296508995505b61040090950294608060020a861015611bdc57600290980497611be1565b611be6565b611bbe565b600094505b6010851015611c6757608060020a891415611c0857889350611c2f565b5050608060020a878002819004808002829004808002839004808b02939093049450909250905b600a8488811515611c3c57fe5b048a60090201811515611c4b57fe5b049850608060020a891115611c5c57fe5b600190940193611beb565b5050505060029390930a9093029493505050505600a165627a7a72305820941f13587e5c2e5d80f04674fc2a3b53a1d846b1ccc367b48e8a714a894ad6fe0029", gas: 1000000},
  function (e, r) {
    if (e) throw e;
    if (typeof r.address !== "undefined") {
      console.log (
        "Deployed at " + r.address + " (tx: " + r.transactionHash + ")");
    }
  }).transactionHash) {
  console.log ("Deployment failed.  Probably web3.eth.accounts[0] is locked.");
}
